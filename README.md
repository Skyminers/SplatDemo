# 作业九

## Texturing Your Solar System

在太阳系中加入材质，描绘更加真实的太阳、地球、月球和星空。

### Texture

在网上找了三个材质：太阳、地球和月球。由于生成球时计算坐标已经计算出了在 $x$ 和 $y$ 方向上的位置比例，所以可以直接应用该比例进行纹理坐标的对应。

使用了三种不同的材质，分别是太阳材质给中心的太阳使用；地球材质给一个公转行星使用；月球材质给卫星和另一颗行星使用。

### Skybox

在 Github 中找到了一个合适的天空盒的资源，按照加载纹理的方式加载该资源，并且通过立方体贴图的方式进行渲染加载。

## 实现方式

在使用材质时，物体的渲染与之前不同，着色器中获取颜色不能再采用直接传入的方式，需要绑定纹理坐标，然后通过纹理坐标获得相应的颜色。

## 最终效果

/截屏2020-12-22 上午8.40.32.png

## 代码文件

- main.cpp : 主函数部分，包括初始化以及渲染部分，以及轮子的平移。对 `.obj` 文件的读取与显示(Polygonal Meshed)也写到了该文件中。
- Sphere.h/Sphere.cpp : 球形绘制类，该部分绘制一个球，并且将节点信息以及索引信息储存在`vector`当中并且返回首地址。
- Camera.h/Camera.cpp : 摄像机类，为了使main.cpp文件尽可能简洁，其中关于摄像机方向设置以及移动都在摄像机类中实现。
- Shaders.h/Shaders.cpp : 着色器类，该类封装了对于着色器的读取、编译、链接以及对于着色器变量的捕获修改。
- skybox.h : 包含了天空盒的数据，以及初始化、渲染方法
- vertexShader.glsl : 参与光照计算的顶点着色器
- fragmentShader.glsl : 参与光照计算的片段着色器
- sunVertexShader.glsl : 太阳的顶点着色器
- sunFragmentShader.glsl : 太阳的片段着色器
- skyBoxVS.glsl : 天空盒的顶点着色器
- skyBoxFS.glsl : 天空盒的片段着色器

## 其他说明

- 使用 Clion 完成项目
- 使用库： `glfw 3.3`, `glm 0.9.8.5`, `stb_image`
- 操作系统为 macOS

`MAC`下请使用命令行运行该程序，在本地测试中，直接双击可执行文件会导致错误，需要使用命令行来执行。

由于使用的是 `glfw` 库，所以拜托同组同学帮我编译出了 exe 文件。

程序执行时会使用 $6$ 个.glsl外部文件和 $9$ 个 img 外部文件，请将 `shader` 和 `img` 文件夹放在可执行文件的相同目录下执行。